{% extends 'classes/base.html' %}
{% load static %}
{% load extras %}

{% block load_css %}
<link rel="stylesheet" href="{% static 'classes/css/group.css' %}">
{% endblock load_css %}

{% block content %}
<div id="table-container">
    <form action="#" method='POST'>{% csrf_token %}
        <table>
            <tr>
                <th>Имя</th>
                <th>Фамилия</th>
                <th>Роль</th>
                <th>Баллы</th>
                <th class='controls-course input-show'>Занятие</th>
                <th class='controls-course input-show'>Бонус</th>
            </tr>
            {% for student in students %} 
            <tr>
                <td>{{ student.name }}</td>
                <td>{{ student.surname }}</td>
                <td>{% if student.role %}{{ student.role }}{% else %}Нет{% endif %}</td>
                <td>{{ student.xp_score }}</td>
                <td class='controls-course input-show'><input class="lesson-input" type="number" name='lesson' value='10' min='0' max='10'></td>
                <td class='controls-course input-show'><input class="bonus-input" type="number" name='bonus' value='0' min='-10' max='10'></td>
            </tr>

            <input type="hidden" class="xp_value" name="{{ student.pk }}">

            {% endfor %}
        </table>
        <div id="control_panel">
            <button type="button" id="openBtn">Изменить</button>
            <div id="specialBtns" class="target">
                <div id="submitBtns">
                    <button type="submit" id="lessonBtn">Провести занятие</button>
                    <button type="submit" id="bonusBtn">Добавить бонусы</button>
                </div>
                <button type="button" id="closeBtn">Отмена</button>
            </div>
        </div>
    </form>
</div>
{% endblock content %}

{% block load_js %}
<script src="{% static "classes/js/group.js" %}"></script>
{% endblock load_js %}